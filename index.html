<div class="settings-container">
    <h3>Настройки рассылки</h3>
    
    <label>Частота проверки (мин): <span id="freq_val">10</span></label>
    <input type="range" id="frequency" min="1" max="60" value="10" oninput="checkSpam()">

    <label>Постов за раз: <span id="count_val">3</span></label>
    <input type="range" id="post_count" min="1" max="10" value="3">

    <label>Интервал между постами (сек): <span id="int_val">5</span></label>
    <input type="range" id="interval" min="1" max="30" value="5">

    <label>Актуальность (дней): <span id="old_val">2</span></label>
    <input type="range" id="freshness" min="1" max="7" value="2">

    <div id="spam_warning" style="color: red; display: none;">
        ⚠️ Внимание! Слишком высокая частота может привести к блокировке за спам.
    </div>

    <button onclick="saveSettings()">Сохранить настройки</button>
</div>

<script>
    function checkSpam() {
        let freq = document.getElementById('frequency').value;
        let warning = document.getElementById('spam_warning');
        if (freq < 5) { warning.style.display = 'block'; }
        else { warning.style.display = 'none'; }
        document.getElementById('freq_val').innerText = freq;
    }

    function saveSettings() {
        const data = {
            freq: document.getElementById('frequency').value,
            count: document.getElementById('post_count').value
            // ... остальные поля
        };
        Telegram.WebApp.sendData(JSON.stringify(data));
    }
</script>
